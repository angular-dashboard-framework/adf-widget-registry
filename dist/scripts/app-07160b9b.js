/**
 * INSPINIA - Responsive Admin Theme
 * Copyright 2014 Webapplayers.com
 *
 * Custom scripts
 */
function fix_height(){var a=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",a+"px");$(window).height()}function checkApplicationVariant(a){var t=!1;return angular.forEach(a.applicationVariants,function(e){return e.applicationId===a.applicationId&&e.variantId===a.variantId?(t=!0,!0):void 0}),t}$(document).ready(function(){fix_height();var a=$("#page-wrapper").height()+2800;$("#page-wrapper").css("min-height",a+"px")}),$(window).bind("load resize click scroll",function(){$("body").hasClass("body-small")||fix_height()}),$(window).bind("load resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")}),function(a){"use strict";a.module("spa",["apianauth","angular-loading-bar","ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ngRoute","xeditable","oc.lazyLoad","ui.bootstrap","acute.select","ngTagsInput","acute.core.directives","ng.bs.dropdown","ngAside","cyTree","toastr","ui.codemirror","ngColorPicker","services","pages","errors"])}(angular);var innerCheckRouting=function(a,t,e){return checkApplicationVariant(a)?e.resolve(!0):(a.originalRoute=t.path(),t.path("/select-application"),e.reject()),e},checkRouting=function(a,t,e,p,i,o,n){{var r=a.defer();p.current.params}return"undefined"!=typeof t.applicationVariants||t.loadingApplicationVariants?r=innerCheckRouting(t,e,r):n.readAll("default","default","application").then(function(a){t.applicationVariants=a,r=innerCheckRouting(t,e,r)},function(a){console.error(a),i.publish("auth-login")}),r.promise};checkRouting.$inject=["$q","$rootScope","$location","$route","$mediator","loginService","portalService"];var homepage=function(a,t,e){return console.log("----------->Homepage:",a.homepage),t.path(angular.isDefined(a.homepage)?a.homepage.substring(1):"/"+a.applicationId+"/"+a.variantId),e.reject({})};angular.module("spa").config(["cfpLoadingBarProvider",function(a){a.includeSpinner=!1}]).config(["$routeProvider","$locationProvider",function(a,t){t.html5Mode(!1),a.when("/login",{templateUrl:"app/login/login.html",controller:"LoginController"}).when("/error",{templateUrl:"app/errors/error.html",controller:"ErrorsController"}).when("/preview",{templateUrl:"app/errors/select-application.html",controller:"SelectApplicationCtrl"}).when("/authoring/default/pages/test",{templateUrl:"app/portal/portal.html",controller:"PortalCtrl"}).when("/authoring/default/pages/test2",{templateUrl:"app/portal/portal.html",controller:"PortalCtrl2"}).when("/authoring/default/pages/test3",{templateUrl:"app/portal/portal.html",controller:"PortalCtrl"}).when("/:applicationId/:variantId/:viewType/:viewId",{templateUrl:"app/pages/container.html",controller:"ContainerCtrl",resolve:{factory:checkRouting}}).when("/:applicationId/:variantId",{templateUrl:"app/home.html",controller:"MainCtrl"})}]).config(["$httpProvider",function(a){console.log("$httpProvider.interceptors.push(authHttpResponseInterceptor)"),a.interceptors.push("apianHttpResponseInterceptor")}]).constant("angularMomentConfig",{preprocess:"utc",timezone:"Europe/Rome"}).run(["$rootScope","apianAuth",function(a,t){console.log("Register $rootScope apianauth"),a.userIsAuthenticated=function(){return t.isAuthenticated()},a.authorizeUrl=t.authorizeUrl(),a.logout=function(){return t.logout()}}]).controller("MainCtrl",["$rootScope","$scope","$location","$route","config","apianAuth","$http","$mediator","portalService","menuService","operationFlowService",function(a,t,e,p,i,o,n,r,d,l,c){function u(){return"http://processihr2.unicredit.it/US/applicazioni/gestFoto/getFotoDipSD.jsp?matricola="+t.user.id+"&cdapplic=AMMI"}function s(){var a="assets/images/users/",t=Math.floor(Math.random()*I.length),e=I[t];return a+e}function h(a,e){console.log("menu.items",e,a),t.menu[e]=a}function y(e,p){console.log(" !!! L o a d m e n u  appId=",e," varId=",p),a.applicationId=e,a.variantId=p,l.readAll(a.applicationId,a.variantId,"menu").then(function(a){console.log("Menu--------->",a),angular.forEach(a,function(a){console.log("item: ",a),h(a.items,a.name)})}),(a.applicationId!==i.app.defaultApplicationId||a.variantId!==i.app.defaultVariantId)&&(t.menu.exit.show=!0)}function m(){var a=e.path().split("/");switch(a.length){case 5:return{applicationId:a[1],variantId:a[2],page:a[4]};case 5:return{applicationId:a[1],variantId:a[2]};default:return{}}}function v(){var t=m();console.log(" loadMenu ",t);var p=a.actualApplicationId(t,a,i),o=a.actualVariantId(t,a,i);y(p,o),e.path(e.path())}c.poorMansTest(),t.enterPageClass="bounceIn",t.leavePageClass="bounceOut",t.menuLoaded=!1,t.menu={},t.menu.contacts=[],t.menu.main=[],t.menu.exit={},t.user={},t.user.id="US01889",t.user.href=u();var I=["User1.png","User3.png","User4.png","User5.png","User6.png","User7.png"];t.user.defaultHref=s(),t.imageLoaded=function(){t.user.isImageLoaded=!0},t.user.name="Ivan Saorin",t.user.role="Solution Architect",a.data={},a.data.text="Supercalifragilistyespralidoso",a.debug=!0,a.safeApply=function(t){var e=this.$root.$$phase;"$apply"==e||"$digest"==e?t&&"function"==typeof t&&t():a.$apply(t)},a.navigate=function(a){window.location="index.html#"+a},a.actualApplicationId=function(a,t,e){return console.log("A) route=",a.applicationId," scope=",t.applicationId," config=",e.app.defaultApplicationId),a&&a.applicationId?a.applicationId:t&&t.applicationId?t.applicationId:e&&e.app&&e.app.defaultApplicationId?e.app.defaultApplicationId:""},a.actualVariantId=function(a,t,e){return console.log("V) route=",a.variantId," scope=",t.variantId," config=",e.app.defaultVariantId),a&&a.variantId?a.variantId:t&&t.variantId?t.variantId:e&&e.app&&e.app.defaultVariantId?e.app.defaultVariantId:""},a.userIsAuthenticated=function(){return o.isAuthenticated()},a.authorizeUrl=o.authorizeUrl(),a.logout=function(){return o.logout()},n.defaults.headers.common["X-ACCEPT-ANGJS"]="+$",t.applicationVariants=[],t.$on("$locationChangeStart",function(a,t,e){console.log("--> $locationChangeStart to ",t," from ",e)}),t.$on("$routeChangeStart",function(t,p,i){if(console.log("--> $routeChangeStart to",p," from ",i),p&&p.loadedTemplateUrl&&"app/errors/select-application.html"!==p.loadedTemplateUrl){var o,n=p.pathParams.applicationId;if("undefined"!=typeof n){a.applicationId=n;var r=p.pathParams.variantId;"undefined"!=typeof n?(a.variantId=r,checkApplicationVariant(a)?(o=e.path(),"/select-application"===o&&(o="/"+a.applicationId+"/"+a.variantId,e.path(o),a.originalRoute=o)):(a.loadingApplicationVariants=!0,d.readAll("default","default","application").then(function(p){a.applicationVariants=p,a.loadingApplicationVariants=!1,checkApplicationVariant(a)?(o=e.path(),"/select-application"===o&&(o="/"+a.applicationId+"/"+a.variantId,e.path(o),a.originalRoute=o)):(a.originalRoute=e.path(),t.preventDefault=!0,e.path("/select-application"))}))):(o=e.path(),"/login"!==o&&(a.originalRoute=o))}else o=e.path(),"/login"!==o&&(a.originalRoute=o)}}),t.isActive=function(a){return"#"+e.path()===a},v(),t.exitApp=function(){var p=m();console.log(" !!! exitApp() !!!!!!!! ",p,a.applicationId),t.menu.exit.show=!1,y(i.app.defaultApplicationId,i.app.defaultVariantId);var o="/"+i.app.defaultApplicationId+"/"+i.app.defaultVariantId;e.path(o)},r.subscribe("auth-login").then(function(){t.menu={},t.menu.contacts=[],t.menu.main=[]}),r.subscribe("application-selected").then(function(){v()}),r.subscribe("menuDetailSaved").then(function(){console.log("MainCtrl menuDetailSaved...."),v()})}]),function(a){"use strict";var t=a.angular,e=a.console,p=a.API_BACKEND();t.module("spa").run(["editableOptions",function(a){a.theme="bs3"}]).config(["$compileProvider",function(a){location.host.match(/localhost/)||a.debugInfoEnabled(!1)}]).constant("angularMomentConfig",{preprocess:"utc",timezone:"Europe/Rome"}).constant("config",{app:{title:"Siteadmin [Development]",defaultApplicationId:"authoring",defaultVariantId:"default",previewPageName:"preview"},portalApi:{schema:p.scheme,host:p.host,port:p.port?p.port:"80",contexts:["api","union2","{serviceId}"],services:{objstore:{readAll:{method:"GET",params:{serviceId:{type:"path",value:"objstore"}},produce:"application/json"},filter:{method:"GET",path:["filter","{key1}","{value1}","{key2}","{value2}","{key3}","{value3}","{key4}","{value4}","{key5}","{value5}","{key6}","{value6}","{key7}","{value7}","{key8}","{value8}","{key9}","{value9}","{key10}","{value10}"],params:{serviceId:{type:"path",value:"objstore"},key1:{type:"path"},value1:{type:"path"},key2:{type:"path"},value2:{type:"path"},key3:{type:"path"},value3:{type:"path"},key4:{type:"path"},value4:{type:"path"},key5:{type:"path"},value5:{type:"path"},key6:{type:"path"},value6:{type:"path"},key7:{type:"path"},value7:{type:"path"},key8:{type:"path"},value8:{type:"path"},key9:{type:"path"},value9:{type:"path"},key10:{type:"path"},value10:{type:"path"}}},readById:{method:"GET",path:["uuid","{uuid}"],params:{serviceId:{type:"path",value:"objstore"},uuid:{type:"path"}},produce:"application/json"},read:{method:"GET",path:["{uuid}"],params:{serviceId:{type:"path",value:"objstore"},uuid:{type:"path",ref:"data.meta.uuid"}},produce:"application/json"},create:{method:"POST",params:{serviceId:{type:"path",value:"objstore"},data:{type:"body"}},produce:"application/json"},createWithFilters:{method:"POST",path:["filter","{key1}","{value1}","{key2}","{value2}","{key3}","{value3}","{key4}","{value4}","{key5}","{value5}","{key6}","{value6}","{key7}","{value7}","{key8}","{value8}","{key9}","{value9}","{key10}","{value10}"],params:{serviceId:{type:"path",value:"objstore"},key1:{type:"path"},value1:{type:"path"},key2:{type:"path"},value2:{type:"path"},key3:{type:"path"},value3:{type:"path"},key4:{type:"path"},value4:{type:"path"},key5:{type:"path"},value5:{type:"path"},key6:{type:"path"},value6:{type:"path"},key7:{type:"path"},value7:{type:"path"},key8:{type:"path"},value8:{type:"path"},key9:{type:"path"},value9:{type:"path"},key10:{type:"path"},value10:{type:"path"},data:{type:"body"}},produce:"application/json",consume:"application/json"},update:{method:"PUT",path:["uuid","{uuid}"],params:{serviceId:{type:"path",value:"objstore"},uuid:{type:"path",ref:"data.meta.uuid"},data:{type:"body"}},produce:"application/json",consume:"application/json"},updateWithFilters:{method:"PUT",path:["uuid","{uuid}","filter","{key1}","{value1}","{key2}","{value2}","{key3}","{value3}","{key4}","{value4}","{key5}","{value5}","{key6}","{value6}","{key7}","{value7}","{key8}","{value8}","{key9}","{value9}","{key10}","{value10}"],params:{serviceId:{type:"path",value:"objstore"},uuid:{type:"path",ref:"data.meta.uuid"},key1:{type:"path"},value1:{type:"path"},key2:{type:"path"},value2:{type:"path"},key3:{type:"path"},value3:{type:"path"},key4:{type:"path"},value4:{type:"path"},key5:{type:"path"},value5:{type:"path"},key6:{type:"path"},value6:{type:"path"},key7:{type:"path"},value7:{type:"path"},key8:{type:"path"},value8:{type:"path"},key9:{type:"path"},value9:{type:"path"},key10:{type:"path"},value10:{type:"path"},data:{type:"body"}},produce:"application/json",consume:"application/json"},remove:{method:"DELETE",path:["uuid","{uuid}"],params:{serviceId:{type:"path",value:"objstore"},uuid:{type:"path",ref:"data.meta.uuid"}},produce:"application/json"},removeById:{method:"DELETE",path:["uuid","{uuid}"],params:{serviceId:{type:"path",value:"objstore"},uuid:{type:"path"}},produce:"application/json"}}}},union:{schema:p.scheme,host:p.host,port:p.port?p.port:"80",contexts:["union-api","rest","svc","{serviceId}"],services:{model:{readModel:{method:"GET",path:["{version}","{name}"],params:{version:{type:"path"},name:{type:"path"}},produce:"application/json"},modelDoc:{method:"OPTIONS",path:["{version}","{name}"],params:{version:{type:"path"},name:{type:"path"}},produce:"application/json"}},domains:{readAll:{method:"GET",produce:"application/json"}},domain:{readSubDomains:{method:"GET",produce:"application/json",path:["{id}","subdomains"],params:{id:{type:"path"}}}},subdomain:{readApis:{method:"GET",produce:"application/json",path:["{id}","apis"],params:{id:{type:"path"}}},linksApiDoc:{method:"OPTIONS",produce:"application/json",path:["{id}","apis"],params:{id:{type:"path"}}}}}},api:{schema:p.scheme,host:p.host,port:p.port?p.port:"80",contexts:["sitemanager","rest","svc","unicredit","gcio","sitemanager","{serviceId}"],services:{login:{create:{method:"POST",params:{serviceId:{type:"path",value:"j_security_check"},j_username:{type:"body"},j_password:{type:"body"},submitButton:{type:"body",value:"LOGIN"}},consume:"application/x-www-form-urlencoded",produce:"application/json"}},application:{readAll:{method:"GET",params:{serviceId:{type:"path",value:"application"}},produce:"application/json"},search:{method:"GET",params:{serviceId:{type:"path",value:"application"}},produce:"application/json"},readById:{method:"GET",path:["{id}"],params:{serviceId:{type:"path",value:"application"},id:{type:"path"}},produce:"application/json"},read:{method:"GET",path:["{id}"],params:{serviceId:{type:"path",value:"application"},id:{type:"path",ref:"data.id"}},produce:"application/json"},create:{method:"POST",params:{serviceId:{type:"path",value:"application/"},data:{type:"body"}},consume:"application/json",produce:"application/json"},update:{method:"PUT",path:["{id}"],params:{serviceId:{type:"path",value:"application"},id:{type:"path"},data:{type:"body"}},consume:"application/json",produce:"application/json"},remove:{method:"DELETE",path:["{id}"],params:{serviceId:{type:"path",value:"application"},id:{type:"path",ref:"data.id"}},produce:"application/json"},removeById:{method:"DELETE",path:["{id}"],params:{serviceId:{type:"path",value:"application"},id:{type:"path"}},consume:"application/json",produce:"application/json"}},pages:{readAll:{method:"GET",path:["{applicationId}","{variantId}"],params:{serviceId:{type:"path",value:"pages"},applicationId:{type:"path"},variantId:{type:"path"}},produce:"application/json"},search:{method:"GET",path:["search","{applicationId}","{variantId}","{name}"],params:{serviceId:{type:"path",value:"pages"},applicationId:{type:"path"},variantId:{type:"path"},name:{type:"path"}},produce:"application/json"},readById:{method:"GET",path:["{id}"],params:{serviceId:{type:"path",value:"pages"},id:{type:"path"}},produce:"application/json"},read:{method:"GET",path:["{id}"],params:{serviceId:{type:"path",value:"pages"},id:{type:"path",ref:"data.id"}},produce:"application/json"},create:{method:"POST",path:["{applicationId}","{variantId}"],params:{serviceId:{type:"path",value:"pages"},applicationId:{type:"path"},variantId:{type:"path"},data:{type:"body"}},consume:"application/json",produce:"application/json"},update:{method:"POST",path:["{applicationId}","{variantId}"],params:{serviceId:{type:"path",value:"pages"},applicationId:{type:"path"},variantId:{type:"path"},id:{type:"path",ref:"data.id"},data:{type:"body"}},consume:"application/json",produce:"application/json"},remove:{method:"DELETE",path:["{applicationId}","{variantId}","{id}"],params:{serviceId:{type:"path",value:"pages"},applicationId:{type:"path"},variantId:{type:"path"},data:{type:"body"}},produce:"application/json"},removeById:{method:"DELETE",path:["{applicationId}","{variantId}","{id}"],params:{serviceId:{type:"path",value:"pages"},applicationId:{type:"path"},variantId:{type:"path"},data:{type:"body"}},consume:"application/json",produce:"application/json"}},menu:{mock:"/json/{serviceId}/{operationId}/{method}-{applicationId}-{variantId}-{name}.json",list:{method:"GET",path:["{applicationId}","{variantId}"],params:{serviceId:{type:"path",value:"menu"},applicationId:{type:"path"},variantId:{type:"path"}},produce:"application/json"},search:{method:"GET",path:["search","{applicationId}","{variantId}","{name}"],params:{serviceId:{type:"path",value:"menu"},applicationId:{type:"path"},variantId:{type:"path"},name:{type:"path"}},produce:"application/json"},create:{method:"POST",path:["{applicationId}","{variantId}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"},data:{type:"body"}},consume:"application/json",produce:"application/json"},update:{method:"PUT",path:["{applicationId}","{variantId}","{id}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"},id:{type:"path"},data:{type:"body"}},consume:"application/json",produce:"application/json"},remove:{method:"DELETE",path:["{applicationId}","{variantId}","{id}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"},data:{type:"body"}},produce:"application/json"},removeById:{method:"DELETE",path:["{applicationId}","{variantId}","{id}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"},data:{type:"body"}},consume:"application/json",produce:"application/json"}},schema:{readAll:{method:"GET",path:["{applicationId}","{variantId}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"}},produce:"application/json"},search:{method:"GET",path:["search","{applicationId}","{variantId}","{name}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"},name:{type:"path"}},produce:"application/json"},readById:{method:"GET",path:["{id}"],params:{serviceId:{type:"path",value:"schema"},id:{type:"path"}},produce:"application/json"},read:{method:"GET",path:["{id}"],params:{serviceId:{type:"path",value:"schema"},id:{type:"path",ref:"data.id"}},produce:"application/json"},create:{method:"POST",path:["{applicationId}","{variantId}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"},data:{type:"body"}},consume:"application/json",produce:"application/json"},update:{method:"POST",path:["{applicationId}","{variantId}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"},id:{type:"path",ref:"data.id"},data:{type:"body"}},consume:"application/json",produce:"application/json"},remove:{method:"DELETE",path:["{applicationId}","{variantId}","{id}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"},data:{type:"body"}},produce:"application/json"},removeById:{method:"DELETE",path:["{applicationId}","{variantId}","{id}"],params:{serviceId:{type:"path",value:"schema"},applicationId:{type:"path"},variantId:{type:"path"},data:{type:"body"}},consume:"application/json",produce:"application/json"}}}}}).config(["$sceDelegateProvider","config",function(a){a.resourceUrlWhitelist(["self","https://retail.unicredit.it/**","https://www.unicredit.it/**","https://online-retail.unicredit.it/**","https://www.businessmatching.eu/**","https://online.unicreditcorporate.it/**","https://europos.quercia.com/**","http://http://imgur.com/**","https://http://imgur.com/**","http://http://i.imgur.com/**","https://http://i.imgur.com/**"])}]).config(["$provide",function(t){t.decorator("$rootScope",["$delegate",function(t){var p=t.$emit;return t.$emit=function(){e.log.apply(e,arguments),p.apply(this,arguments)},t.reload=function(t){a.location="index.html#"+t,a.location.reload(!0)},t}])}])}(window);